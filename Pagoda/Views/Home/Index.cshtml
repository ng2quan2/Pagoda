@section naviheader{
    <!-- Left navbar links -->
    <ul class="navbar-nav">
        <li class="nav-item">
            <a class="nav-link" data-widget="pushmenu" href="#" role="button"><i class="fas fa-bars"></i></a>
        </li>
    </ul>
}

@if (TempData["Message"] != null)
{
    <div class="alert alert-default-info">
        @TempData["Message"]
        <button type="button" class="close" data-dismiss="alert">
            <span>
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="25" style="vertical-align: unset" fill="currentColor" class="bi bi-x-circle-fill" viewBox="0 0 16 16">
                    <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM5.354 4.646a.5.5 0 1 0-.708.708L7.293 8l-2.647 2.646a.5.5 0 0 0 .708.708L8 8.707l2.646 2.647a.5.5 0 0 0 .708-.708L8.707 8l2.647-2.646a.5.5 0 0 0-.708-.708L8 7.293 5.354 4.646z" />
                </svg>
            </span>
        </button>
    </div>
}

<div class="container-fluid">
    <div class="container">
        <div class="row">
            <div class="col-md-2">
                <button type="button" class="btn btn-success" data-toggle="modal" data-target="#exampleModal" style=" color: white; margin-top: 32px">
                    Thông Tin Cá Nhân
                </button>
            </div>

            @if (Session["MonkId"] != null)
            {
                <div class="col-md-2">
                    <a href="#" class="btn btn-danger" style=" color: white; margin-top: 32px" onclick="UpdateProfile()">
                        Cập Nhật Thông Tin
                    </a>
                </div>
            }
            else if (Session["BuddhistId"] != null)
            {
                <div class="col-md-2">
                    <a href="#" class="btn btn-danger" style=" color: white; margin-top: 32px" onclick="UpdateProfile_Buddhist()">
                        Cập Nhật Thông Tin
                    </a>
                </div>
            }

            @if (Session["MonkId"] != null)
            {
                <div class="col-md-2">
                    <a href="#" class="btn btn-info" style=" color: white; margin-top: 32px" onclick="UpdatePassword()">
                        Thay Đổi Mật Khẩu
                    </a>
                </div>
            }
            else if (Session["BuddhistId"] != null)
            {
                <div class="col-md-2">
                    <a href="#" class="btn btn-info" style=" color: white; margin-top: 32px" onclick="UpdatePassword_Buddhist()">
                        Thay Đổi Mật Khẩu
                    </a>
                </div>
            }
        </div>
    </div>
</div>

<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">
                    @if (Session["MonkId"] != null)
                    {
                        @Session["MonkFullName"]
                    }
                    else if (Session["BuddhistId"] != null)
                    {
                        @Session["BuddhistFullName"]
                    }
                </h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-md-4">
                        <b>Họ Tên</b>
                    </div>
                    <div class="col-md-1">
                        <b>:</b>
                    </div>
                    <div class="col-md-7">
                        @if (Session["MonkId"] != null)
                        {
                            @Session["MonkFullName"]
                        }
                        else if (Session["BuddhistId"] != null)
                        {
                            @Session["BuddhistFullName"]
                        }
                    </div>
                </div>
                <hr />

                <div class="row">
                    <div class="col-md-4">
                        <b>Pháp Danh</b>
                    </div>
                    <div class="col-md-1">
                        <b>:</b>
                    </div>
                    <div class="col-md-7">
                        @if (Session["MonkId"] != null)
                        {
                            @Session["MonkNickName"]
                        }
                        else if (Session["BuddhistId"] != null)
                        {
                            @Session["BuddhistNickName"]
                        }
                    </div>
                </div>
                <hr />

                <div class="row">
                    <div class="col-md-4">
                        <b>Tuổi</b>
                    </div>
                    <div class="col-md-1">
                        <b>:</b>
                    </div>
                    <div class="col-md-7">
                        @if (Session["MonkId"] != null)
                        {
                            @Session["MonkAge"]
                        }
                        else if (Session["BuddhistId"] != null)
                        {
                            @Session["BuddhistAge"]
                        }
                    </div>
                </div>
                <hr />

                <div class="row">
                    <div class="col-md-4">
                        <b>Giới Tính</b>
                    </div>
                    <div class="col-md-1">
                        <b>:</b>
                    </div>
                    <div class="col-md-7">

                        @if (Session["MonkId"] != null)
                        {
                            if ((bool)Session["MonkSex"] == true)
                            {
                                @Html.Raw("Nam")
                            }
                            else
                            {
                                @Html.Raw("Nữ")
                            }
                        }
                        else if (Session["BuddhistId"] != null)
                        {
                            if ((bool)Session["BuddhistSex"] == true)
                            {
                                @Html.Raw("Nam")
                            }
                            else
                            {
                                @Html.Raw("Nữ")
                            }
                        }
                    </div>
                </div>
                <hr />

                <div class="row">
                    <div class="col-md-4">
                        <b>Sao Chiếu Mệnh</b>
                    </div>
                    <div class="col-md-1">
                        <b>:</b>
                    </div>
                    <div class="col-md-7">
                        @if (Session["MonkId"] != null)
                        {
                            @Session["MonkStar"]
                        }
                        else if (Session["BuddhistId"] != null)
                        {
                            @Session["BuddhistStar"]
                        }
                    </div>
                </div>
                <hr />

                <div class="row">
                    <div class="col-md-4">
                        <b>Hạn Kiết Hung</b>
                    </div>
                    <div class="col-md-1">
                        <b>:</b>
                    </div>
                    <div class="col-md-7">
                        @if (Session["MonkId"] != null)
                        {
                            @Session["MonkThreat"]
                        }
                        else if (Session["BuddhistId"] != null)
                        {
                            @Session["BuddhistThreat"]
                        }
                    </div>
                </div>
                <hr />


                <div class="row">
                    <div class="col-md-4">
                        <b>Số Điện Thoại</b>
                    </div>
                    <div class="col-md-1">
                        <b>:</b>
                    </div>
                    <div class="col-md-7">
                        @if (Session["MonkId"] != null)
                        {
                            @Session["MonkPhone"]
                        }
                        else if (Session["BuddhistId"] != null)
                        {
                            @Session["BuddhistPhone"]
                        }
                    </div>
                </div>
                <hr />

                @if (Session["BuddhistId"] != null)
                {
                    <div class="row">
                        <div class="col-md-4">
                            <b>Quy Y</b>
                        </div>
                        <div class="col-md-1">
                            <b>:</b>
                        </div>
                        <div class="col-md-7">
                            @if ((bool)Session["BuddhistStatus"] == true)
                            {
                                @Html.Raw("Tại Chùa")
                            }
                            else
                            {
                                @Html.Raw("Tại Gia")
                            }

                        </div>
                    </div>

                    <hr />
                }

                <div class="row">
                    <div class="col-md-4">
                        <b>Địa Chỉ</b>
                    </div>
                    <div class="col-md-1">
                        <b>:</b>
                    </div>
                    <div class="col-md-7">
                        @if (Session["MonkId"] != null)
                        {
                            @Session["MonkAddress"]
                        }
                        else if (Session["BuddhistId"] != null)
                        {
                            @Session["BuddhistAddress"]
                        }
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="OpenDilog">

</div>

<style>
    .my-dialog-class {
        width: 700px !important;
        height: 240px;
        background-color: #fefefe !important;
        margin: auto !important;
        padding: 20px !important;
        border: 1px solid #888 !important;
        box-shadow: 0 1px 1px rgba(0,0,0,0.12), 0 2px 2px rgba(0,0,0,0.12), 0 4px 4px rgba(0,0,0,0.12), 0 8px 8px rgba(0,0,0,0.12), 0 16px 16px rgba(0,0,0,0.12) !important;
        border-radius: 10px !important;
    }

    .my-dialog-class-1 {
        width: 360px !important;
        height: 240px;
        background-color: #fefefe !important;
        margin: auto !important;
        padding: 20px !important;
        border: 1px solid #888 !important;
        box-shadow: 0 1px 1px rgba(0,0,0,0.12), 0 2px 2px rgba(0,0,0,0.12), 0 4px 4px rgba(0,0,0,0.12), 0 8px 8px rgba(0,0,0,0.12), 0 16px 16px rgba(0,0,0,0.12) !important;
        border-radius: 10px !important;
    }

    .ui-widget-header {
        background: none !important;
        padding: 0 !important;
        border: none !important;
    }

    .ui-dialog {
        top: 50% !important;
        left: 50% !important;
        transform: translate(-50%, -50%) !important;
    }

    .ui-button {
        background: none !important;
        border: none !important;
    }
</style>

<link href="~/Content/MyDialog.css" rel="stylesheet" />
<link href="@Url.Content("~/Content/Clients/plugins/jquery-ui/jquery-ui.css")" rel="stylesheet" type="text/css" />
<script src="@Url.Content("~/Content/Clients/plugins/jquery-ui/jquery-ui.min.js")" type="text/javascript"></script>

<script type="text/javascript">
    function UpdateProfile() {
        var div = $("#OpenDilog");
        div.load("/Login/EditProfile", function () {
            div.dialog({
                modal: true,
                title: "Cập Nhật Thông Tin",
                resizable: false,
                position: 'center',
                show: { effect: 'fade', duration: 400 },
                dialogClass: "my-dialog-class",
            });
        });
    }

    function UpdateProfile_Buddhist() {
        var div = $("#OpenDilog");
        div.load("/Login/EditProfile_Buddhist", function () {
            div.dialog({
                modal: true,
                title: "Cập Nhật Thông Tin",
                resizable: false,
                position: 'center',
                show: { effect: 'fade', duration: 400 },
                dialogClass: "my-dialog-class",
            });
        });
    }

    function UpdatePassword() {
        var div = $("#OpenDilog");
        div.load("/Login/ChangePassword", function () {
            div.dialog({
                modal: true,
                title: "Thay Đổi Mật Khẩu",
                resizable: false,
                position: 'center',
                show: { effect: 'fade', duration: 400 },
                dialogClass: "my-dialog-class-1",
            });
        });
    }

    function UpdatePassword_Buddhist() {
        var div = $("#OpenDilog");
        div.load("/Login/ChangePassword_Buddhist", function () {
            div.dialog({
                modal: true,
                title: "Thay Đổi Mật Khẩu",
                resizable: false,
                position: 'center',
                show: { effect: 'fade', duration: 400 },
                dialogClass: "my-dialog-class-1",
            });
        });
    }
</script>